|题目|CMS loves MATH technology|CMS loves LOG technology|CMS loves SQRT technology|CMS loves BF technology|
| :--------: | :---------: | :--------: | :--------: | :--------:|
|可执行文件名|math|log|sqrt|bf|
|输入文件名|math.in|log.in|sqrt.in|bf.in|
|输出文件名|math.out|log.out|sqrt.out|bf.out|
|时间限制|1s|2s|1s|2s|
|内存限制|256MB|256MB|256MB|1024MB|
|测试点数目|1|46|60|63|
|子任务数量|1|2|3|3|
|是否有部分分|无|有|有|有|
|题目类型|传统型|传统型|传统型|传统型|
|是否存在 SPJ|否|否|否|是|
# CMS loves MATH technology

## 题目描述

本题包含多组测试数据。

每组测试数据给定一个长度为 $n$ 的序列 $a$，令 $s=\max(a_1,a_2,\dots,a_{l-1},a_{r+1},\dots,a_{n-1},a_n)-\min(a_1,a_2,\dots,a_{l-1},a_{r+1},\dots,a_{n-1},a_n)+\max(a_l,a_{l+1},\dots,a_{r-1},a_r)-\min(a_l,a_{l+1},\dots,a_{r-1},a_r)$，要求选定一个区间 $[l,r]$，使得 $s$ 最大，输出 $s$。

## 输入格式

第一行一个整数 $T$ 表示测试数据个数。

每组测试数据第一行一个整数 $n$，

第二行包含 $n$ 个整数表示序列 $a$。

## 输出格式

输出共 $T$ 行，每行一个整数表示答案。

## 输入样例

```
4
8
1 2 2 3 1 5 6 1
5
1 2 3 100 200
4
3 3 3 3
6
7 8 3 1 1 8
```

## 输出样例

```
9
297
0
14
```

## 数据范围

本题有且仅有一个测试点，测试点信息：

$n = 10^5，t = 10，1 \le a_i \le 10^9$

请使用较快的读入方式。
# CMS loves LOG technology

## 题目描述

有一个 $N$ 个点 $M$ 条边的无向图。第 $i$ 条边连接 $A_i$ 和 $B_i$，边权为 $C_i$，保证 $C_i$ 互不相同。

现在有 $K$ 个人，依次从 $1$ 到 $K$ 编号。第 $1$ 个人先操作，会删掉图里一个边权和最大生成森林。然后是第 $2$ 个人，会删掉剩下图里一个边权和最大生成森林。依次类推，接下来是第 $3$ 个人，第 $4$ 个人，……，直到第 $K$ 个人。对于每条边，你需要求出它是被哪个人删掉的。

## 输入格式

第一行包含三个整数 $N$，$M$ 和 $K$，含义如题面所述。

接下里 $M$ 行，第 $i$ 行包含三个整数 $A_i$，$B_i$ 和 $C_i$，表示第 $i$ 条边连接 $A_i$ 和 $B_i$，边权为 $C_i$。

## 输出格式

输出 $M$ 行，第 $i$ 行包含一个整数，表示第 $i$ 条边被哪个人删除了。如果第 $i$ 条边没有被删除，输出 $0$。

## 输入样例 $1$

```
3 5 2
1 2 3
1 2 1
2 3 4
2 3 6
1 3 2
```

## 输出样例 $1$

```
1
0
2
1
2
```

## 输入样例 $2$

```
3 6 5
1 2 1
1 2 2
2 3 3
2 3 4
3 1 5
3 1 6
```

## 输出样例 $2$

```
4
3
2
1
2
1
```

## 数据范围

对于全部数据，满足 $2 \le N \le 1000, 1 \le M \le 3 \times 10^5, 1 \le K \le 10^4, 1 \le A_i, B_i \le N, 1 \le C_i \le 10^9$，保证 $C_i$ 互不相同。

**本题采用捆绑评价，共有 $2$ 个子任务。**

Subtask1（$15$ 分）：满足 $k \le 10$；

Subtask2（$85$ 分）：无特殊限制。

# CMS loves SQRT technology

## 题目描述

给定长度为 $n$ 的序列 $a$。共 $m$ 次询问。

每次询问给出 $p,k$。您要不断地执行操作 $p\gets p+a_p+k$，直到 $p>n$ 为止。

询问的答案为操作次数。

## 输入格式

第一行一个整数 $n$，

第二行 $n$ 个整数，表示序列 $a$。

第三行一个整数 $n$，

接下来 $m$ 行每行两个整数表示 $p,k$。

## 输出格式

输出共 $m$ 行，每行即为答案。

## 输入样例

```
3
1 1 1
3
1 1
2 1
3 1
```

## 输出样例

```
2
1
1
```

## 样例解释

对于第一个询问，第一次操作后 $p=3$，第二次操作后 $p=5$。

## 数据范围

**本题采用捆绑评价，共有 $3$ 个子任务。**

Subtask1（$20$ 分）：满足 $1 \le k \le \sqrt n$；

Subtask2（$20$ 分）：满足 $\sqrt n \le k \le n$；

Subtask2（$60$ 分）：满足 $1 \le k \le n$；

对于所有测试数据，$1 \le n,m \le 10^5,1 \le a_i \le n$。

# CMS loves BF technology

## 题目描述

在离 CMS 家很远的地方有一个 A 国，最近 A 国选出了一位新的领导人。

这位领导人上任之后做的第一件事，就是在 A 国和它的一个邻国 —— B 国之间修一堵围墙。

围墙可以看成是一个长度为 $n$ 的括号序列，与此同时还有一个长度为 $n$ 的**排列** $P$，一个围墙被称为稳的，当且仅当：

这个括号序列是合法的；
构造一张 $n$ 个点的图，当且仅当第 $i$ 个位置是左括号时，点 $i$ 向点 $P_i$ 连边，最后形成的图必须满足每个点的度数均为一。
保证对于任意 $i$ 有 $i \neq P_i$。

一个括号序列合法的定义如下：

空序列是合法的；
如果 A 是合法的，那么 $\texttt{(}A\texttt{)}$ 也是合法的；
如果 A 和 B 都是合法的，那么 AB 也是合法的。
例如 $\texttt{()()((()()))}$ 是合法的，而 $\texttt{())(()}$ 不是。

现在 A 国的领导人想知道一种合法的修墙方案。

数据保证有解。

## 输入格式

第一行一个整数 $n$，表示括号序列的长度。

接下来一行 $n$ 个正整数表示排列 $P_i$。

## 输出格式

输出一行一个长度为 n 的括号序列，如果有多种解，输出任意一种即可。

**注意，样例输出只是一种参考解，解可能并不唯一。**

## 输入样例

```
4
8
1 2 2 3 1 5 6 1
5
1 2 3 100 200
4
3 3 3 3
6
7 8 3 1 1 8
```

## 输出样例

```
9
297
0
14
```

## 数据范围

本题有 $3$ 个子任务：

Subtask1（$10$ 分）：满足 $1 \le n \le 10$；

Subtask2（$20$ 分）：满足 $1 \le n \le 40$；

Subtask2（$60$ 分）：满足 $1 \le n \le 100$；
